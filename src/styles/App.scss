@use 'tailwindcss';

// SCSS Variables for theme values
$font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

// Radius values
$radius-base: 0.625rem;

// SCSS variables for color values
$color-white: oklch(1 0 0);
$color-black: oklch(0.145 0 0);
$color-primary-light: oklch(0.513 0.28 306.88); // #8847BB
$color-secondary-light: oklch(0.423 0.223 288.33); // #5E4290
$color-accent-light: oklch(0.819 0.15 332.25); // #F9BAEE
$color-muted-bg-light: oklch(0.97 0 0);
$color-muted-fg-light: oklch(0.556 0 0);
$color-destructive: oklch(0.577 0.245 27.325);
$color-border-light: oklch(0.922 0 0);

// Dark mode colors
$color-bg-dark: oklch(0.145 0 0);
$color-fg-dark: oklch(0.985 0 0);
$color-muted-bg-dark: oklch(0.269 0 0);
$color-muted-fg-dark: oklch(0.708 0 0);
$color-destructive-dark: oklch(0.396 0.141 25.723);
$color-destructive-fg-dark: oklch(0.637 0.237 25.331);
$color-sidebar-dark: oklch(0.205 0 0);

:root {
    /* Font family */
    --font-sans: #{$font-sans};

    /* Radius values */
    --radius: #{$radius-base};
    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    /* Base colors - light mode */
    --background: #{$color-white};
    --foreground: #{$color-black};

    /* Card and popover colors - light mode */
    --card: #{$color-white};
    --card-foreground: #{$color-black};
    --popover: #{$color-white};
    --popover-foreground: #{$color-black};

    /* Primary color - light mode (#8847BB in OKLCH) */
    --primary: #{$color-primary-light};
    --primary-foreground: oklch(0.985 0 0);

    /* Secondary color - light mode (#5E4290 in OKLCH) */
    --secondary: #{$color-secondary-light};
    --secondary-foreground: oklch(0.985 0 0);

    /* Muted colors - light mode */
    --muted: #{$color-muted-bg-light};
    --muted-foreground: #{$color-muted-fg-light};

    /* Accent color - light mode (#F9BAEE in OKLCH) */
    --accent: #{$color-accent-light};
    --accent-foreground: oklch(0.205 0 0);

    /* Destructive, border, input, ring colors - light mode */
    --destructive: #{$color-destructive};
    --destructive-foreground: #{$color-destructive};
    --border: #{$color-border-light};
    --input: #{$color-border-light};
    --ring: #{$color-primary-light};

    /* Chart colors - light mode */
    --chart-1: #{$color-primary-light}; /* #8847BB */
    --chart-2: #{$color-secondary-light}; /* #5E4290 */
    --chart-3: #{$color-accent-light}; /* #F9BAEE */
    --chart-4: oklch(0.646 0.222 41.116);
    --chart-5: oklch(0.769 0.188 70.08);

    /* Sidebar colors - light mode */
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: #{$color-black};
    --sidebar-primary: #{$color-primary-light}; /* #8847BB */
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: #{$color-accent-light}; /* #F9BAEE */
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: #{$color-border-light};
    --sidebar-ring: #{$color-primary-light}; /* #8847BB */
}

.dark {
    /* Base colors - dark mode */
    --background: #{$color-bg-dark};
    --foreground: #{$color-fg-dark};

    /* Card and popover colors - dark mode */
    --card: #{$color-bg-dark};
    --card-foreground: #{$color-fg-dark};
    --popover: #{$color-bg-dark};
    --popover-foreground: #{$color-fg-dark};

    /* In dark mode, we're making #F9BAEE the primary and #8847BB the accent */
    --primary: #{$color-accent-light}; /* #F9BAEE */
    --primary-foreground: #{$color-black};

    /* Secondary color - dark mode (#5E4290 in OKLCH) */
    --secondary: #{$color-secondary-light};
    --secondary-foreground: #{$color-fg-dark};

    /* Muted colors - dark mode */
    --muted: #{$color-muted-bg-dark};
    --muted-foreground: #{$color-muted-fg-dark};

    /* Accent color - dark mode (#8847BB in OKLCH) */
    --accent: #{$color-primary-light}; /* #8847BB */
    --accent-foreground: #{$color-fg-dark};

    /* Destructive, border, input, ring colors - dark mode */
    --destructive: #{$color-destructive-dark};
    --destructive-foreground: #{$color-destructive-fg-dark};
    --border: #{$color-muted-bg-dark};
    --input: #{$color-muted-bg-dark};
    --ring: #{$color-accent-light}; /* #F9BAEE */

    /* Chart colors - dark mode */
    --chart-1: #{$color-accent-light}; /* #F9BAEE */
    --chart-2: #{$color-secondary-light}; /* #5E4290 */
    --chart-3: #{$color-primary-light}; /* #8847BB */
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);

    /* Sidebar colors - dark mode */
    --sidebar: #{$color-sidebar-dark};
    --sidebar-foreground: #{$color-fg-dark};
    --sidebar-primary: #{$color-accent-light}; /* #F9BAEE */
    --sidebar-primary-foreground: #{$color-black};
    --sidebar-accent: #{$color-secondary-light}; /* #5E4290 */
    --sidebar-accent-foreground: #{$color-fg-dark};
    --sidebar-border: #{$color-muted-bg-dark};
    --sidebar-ring: #{$color-accent-light}; /* #F9BAEE */
}

@layer base {
    html {
        background-color: var(--background);
        min-height: 100vh;
    }

    body {
        background-color: var(--background);
        color: var(--foreground);
        min-height: 100vh;
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    * {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }
}

// Neumorphism/Soft UI Mixins
@mixin neu-surface {
    background: var(--background);
    border-radius: var(--radius);
    box-shadow: 
        8px 8px 16px rgba(0, 0, 0, 0.1),
        -8px -8px 16px rgba(255, 255, 255, 0.8);
    
    .dark & {
        box-shadow: 
            8px 8px 16px rgba(0, 0, 0, 0.4),
            -8px -8px 16px rgba(255, 255, 255, 0.02);
    }
}

@mixin neu-inset {
    background: var(--background);
    border-radius: var(--radius);
    box-shadow: 
        inset 6px 6px 12px rgba(0, 0, 0, 0.1),
        inset -6px -6px 12px rgba(255, 255, 255, 0.8);
    
    .dark & {
        box-shadow: 
            inset 6px 6px 12px rgba(0, 0, 0, 0.4),
            inset -6px -6px 12px rgba(255, 255, 255, 0.02);
    }
}

@mixin neu-raised {
    background: var(--background);
    border-radius: var(--radius);
    box-shadow: 
        12px 12px 24px rgba(0, 0, 0, 0.15),
        -12px -12px 24px rgba(255, 255, 255, 0.9);
    transition: all 0.3s ease;
    
    .dark & {
        box-shadow: 
            12px 12px 24px rgba(0, 0, 0, 0.5),
            -12px -12px 24px rgba(255, 255, 255, 0.03);
    }

    &:hover {
        transform: translateY(-2px);
        box-shadow: 
            16px 16px 32px rgba(0, 0, 0, 0.2),
            -16px -16px 32px rgba(255, 255, 255, 0.95);
        
        .dark & {
            box-shadow: 
                16px 16px 32px rgba(0, 0, 0, 0.6),
                -16px -16px 32px rgba(255, 255, 255, 0.04);
        }
    }
}

// Neumorphism/Soft UI Components
@layer components {
    // Base neumorphic surface
    .neu-surface {
        @include neu-surface;
    }

    // Inset (pressed) neumorphic effect
    .neu-inset {
        @include neu-inset;
    }

    // Floating/raised neumorphic effect
    .neu-raised {
        @include neu-raised;
    }

    // Neumorphic button
    .neu-button {
        @include neu-surface;
        padding: 0.75rem 1.5rem;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
        color: var(--foreground);
        
        // Enhanced visibility for base button
        background: linear-gradient(145deg, 
            color-mix(in oklch, var(--background) 98%, white),
            color-mix(in oklch, var(--background) 102%, black)
        );

        &:hover {
            transform: translateY(-1px);
            background: linear-gradient(145deg, 
                color-mix(in oklch, var(--background) 96%, white),
                color-mix(in oklch, var(--background) 104%, black)
            );
        }

        &:active {
            @include neu-inset;
            transform: translateY(1px);
        }

        // Primary button variant
        &.neu-button-primary {
            background: linear-gradient(145deg, 
                var(--primary),
                color-mix(in oklch, var(--primary) 85%, black)
            );
            color: white;
            font-weight: 600;
            
            box-shadow: 
                8px 8px 16px color-mix(in oklch, var(--primary) 70%, black),
                -8px -8px 16px color-mix(in oklch, var(--primary) 120%, white),
                inset 1px 1px 3px rgba(255, 255, 255, 0.2);

            .dark & {
                background: linear-gradient(145deg, 
                    color-mix(in oklch, var(--primary) 110%, white),
                    var(--primary)
                );
                box-shadow: 
                    8px 8px 16px color-mix(in oklch, var(--primary) 60%, black),
                    -8px -8px 16px color-mix(in oklch, var(--primary) 130%, white),
                    inset 1px 1px 3px rgba(255, 255, 255, 0.1);
            }

            &:hover {
                background: linear-gradient(145deg, 
                    color-mix(in oklch, var(--primary) 110%, white),
                    color-mix(in oklch, var(--primary) 80%, black)
                );
                
                .dark & {
                    background: linear-gradient(145deg, 
                        color-mix(in oklch, var(--primary) 120%, white),
                        color-mix(in oklch, var(--primary) 95%, white)
                    );
                }
            }
        }

        // Secondary button variant
        &.neu-button-secondary {
            background: linear-gradient(145deg, 
                color-mix(in oklch, var(--secondary) 90%, white),
                color-mix(in oklch, var(--secondary) 110%, black)
            );
            color: var(--secondary-foreground);
            
            box-shadow: 
                8px 8px 16px color-mix(in oklch, var(--secondary) 80%, black),
                -8px -8px 16px color-mix(in oklch, var(--secondary) 120%, white);

            .dark & {
                box-shadow: 
                    8px 8px 16px color-mix(in oklch, var(--secondary) 70%, black),
                    -8px -8px 16px color-mix(in oklch, var(--secondary) 130%, white);
            }
        }
    }

    // Neumorphic card
    .neu-card {
        @include neu-raised;
        padding: 2rem;
        background: var(--card);
        
        &.neu-card-interactive {
            cursor: pointer;
            
            &:hover {
                transform: translateY(-4px);
            }
        }
    }

    // Neumorphic input
    .neu-input {
        @include neu-inset;
        padding: 0.75rem 1rem;
        border: none;
        background: var(--background);
        color: var(--foreground);
        
        &:focus {
            outline: none;
            box-shadow: 
                inset 8px 8px 16px rgba(0, 0, 0, 0.15),
                inset -8px -8px 16px rgba(255, 255, 255, 0.9),
                0 0 0 2px var(--primary);
            
            .dark & {
                box-shadow: 
                    inset 8px 8px 16px rgba(0, 0, 0, 0.5),
                    inset -8px -8px 16px rgba(255, 255, 255, 0.03),
                    0 0 0 2px var(--primary);
            }
        }
    }

    // Neumorphic circular elements
    .neu-circle {
        border-radius: 50%;
        @include neu-surface;
        
        &.neu-circle-large {
            width: 200px;
            height: 200px;
            box-shadow: 
                20px 20px 40px rgba(0, 0, 0, 0.1),
                -20px -20px 40px rgba(255, 255, 255, 0.8);
            
            .dark & {
                box-shadow: 
                    20px 20px 40px rgba(0, 0, 0, 0.4),
                    -20px -20px 40px rgba(255, 255, 255, 0.02);
            }
        }
    }

    // Neumorphic navigation
    .neu-nav {
        @include neu-surface;
        backdrop-filter: blur(10px);
        background: color-mix(in oklch, var(--background) 90%, transparent);
        border: 1px solid color-mix(in oklch, var(--border) 50%, transparent);
    }

    // Neumorphic progress/loading bars
    .neu-progress {
        @include neu-inset;
        height: 8px;
        position: relative;
        overflow: hidden;
        
        &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: inherit;
            box-shadow: 
                2px 2px 4px rgba(0, 0, 0, 0.2),
                -2px -2px 4px rgba(255, 255, 255, 0.6);
            
            .dark & {
                box-shadow: 
                    2px 2px 4px rgba(0, 0, 0, 0.4),
                    -2px -2px 4px rgba(255, 255, 255, 0.02);
            }
        }
    }
}